{% extends "base.html" %}

{% block content %}
<div class="main">
    <div class="topbar">
        <div class="welcome">Subscription Plans</div>
        <div class="demo-timer" id="demo-timer">Demo Time Left: <span id="demo-time">--:--</span></div>
    </div>

    <div class="subscription-container">
        <div class="subscription-grid">
            <!-- Free Plan -->
            <div class="plan-card">
                <h3>Free Plan</h3>
                <div class="price">₹0<span>/month</span></div>
                <ul class="features">
                    <li><i class="fas fa-check"></i> Basic market data</li>
                    <li><i class="fas fa-check"></i> Limited signals per day</li>
                    <li><i class="fas fa-check"></i> Standard support</li>
                    <li><i class="fas fa-times"></i> Real-time updates</li>
                    <li><i class="fas fa-times"></i> Advanced analytics</li>
                </ul>
                <button class="btn" {% if not user.is_premium %}disabled{% endif %}>Current Plan</button>
            </div>

            <!-- Premium Plan -->
            <div class="plan-card premium">
                <div class="ribbon">POPULAR</div>
                <h3>Premium Plan</h3>
                <div class="price">₹999<span>/month</span></div>
                <ul class="features">
                    <li><i class="fas fa-check"></i> Real-time market data</li>
                    <li><i class="fas fa-check"></i> Unlimited signals</li>
                    <li><i class="fas fa-check"></i> Priority support</li>
                    <li><i class="fas fa-check"></i> Advanced analytics</li>
                    <li><i class="fas fa-check"></i> Custom alerts</li>
                </ul>
                <button class="btn" {% if user.is_premium %}disabled{% endif %}>
                    {% if user.is_premium %}Current Plan{% else %}Upgrade Now{% endif %}
                </button>
            </div>

            <!-- Pro Plan -->
            <div class="plan-card">
                <h3>Pro Plan</h3>
                <div class="price">₹1999<span>/month</span></div>
                <ul class="features">
                    <li><i class="fas fa-check"></i> Everything in Premium</li>
                    <li><i class="fas fa-check"></i> API access</li>
                    <li><i class="fas fa-check"></i> Custom strategies</li>
                    <li><i class="fas fa-check"></i> 24/7 support</li>
                    <li><i class="fas fa-check"></i> Team collaboration</li>
                </ul>
                <button class="btn">Contact Sales</button>
            </div>
        </div>
    </div>
</div>

<style>
.subscription-container {
    padding: 2rem;
}

.subscription-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    max-width: 1200px;
    margin: 0 auto;
}

.plan-card {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    padding: 2rem;
    text-align: center;
    position: relative;
    transition: transform 0.3s ease;
}

.plan-card:hover {
    transform: translateY(-5px);
}

.plan-card.premium {
    background: linear-gradient(135deg, rgba(0, 230, 208, 0.1), rgba(44, 83, 100, 0.2));
    border: 1px solid rgba(0, 230, 208, 0.3);
}

.ribbon {
    position: absolute;
    top: 20px;
    right: -5px;
    padding: 5px 15px;
    background: #00e6d0;
    color: #000;
    font-size: 0.8rem;
    font-weight: bold;
    border-radius: 3px;
}

.price {
    font-size: 2.5rem;
    font-weight: bold;
    color: #00e6d0;
    margin: 1.5rem 0;
}

.price span {
    font-size: 1rem;
    color: #aaa;
}

.features {
    list-style: none;
    padding: 0;
    margin: 2rem 0;
}

.features li {
    margin: 1rem 0;
    color: #fff;
}

.features i {
    margin-right: 10px;
}

.fa-check {
    color: #00e6d0;
}

.fa-times {
    color: #ff4444;
}

.btn {
    width: 100%;
    padding: 1rem;
    border: none;
    border-radius: 6px;
    background: #2c5364;
    color: white;
    font-weight: bold;
    cursor: pointer;
    transition: background 0.3s ease;
}

.btn:hover:not([disabled]) {
    background: #1a3c4d;
}

.btn[disabled] {
    opacity: 0.7;
    cursor: not-allowed;
}

@media (max-width: 768px) {
    .subscription-grid {
        grid-template-columns: 1fr;
    }
}
</style>

<script>
// Demo timer fetch
function updateDemoTime() {
    fetch("/get_demo_time")
        .then(r => r.json())
        .then(data => {
            document.getElementById("demo-time").textContent = data.time_left;
        });
}
setInterval(updateDemoTime, 1000);
updateDemoTime();
</script>
{% endblock %} 